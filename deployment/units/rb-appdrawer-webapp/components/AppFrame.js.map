{"version":3,"sources":["../../../../units/rb-appdrawer-webapp/components/AppFrame.jsx"],"names":["drawerWidth","styles","theme","html","boxSizing","body","margin","background","palette","default","color","text","primary","lineHeight","overflowX","WebkitFontSmoothing","MozOsxFontSmoothing","img","maxWidth","height","width","root","zIndex","overflow","appFrame","position","display","menuButton","breakpoints","down","marginLeft","marginTop","between","up","contentContainerWithPermanentDrawer","drawerPaper","titlePrefix","process","env","NODE_ENV","AppFrame","React","Component","constructor","props","context","_handle_Drawer_Open","setState","drawerIsOpen","_handle_Drawer_Close","_handle_GoTo","to","router","push","setTitle","title","clearTitle","NavBarDefaultTitle","state","render","children","classes","Viewer","totalWidth","bPermanentDrawer","chilrenContained"],"mappings":"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","sourcesContent":["// @flow\n\nimport Drawer from '@material-ui/core/Drawer'\n\nimport Fab from '@material-ui/core/Fab'\n\nimport { withStyles } from '@material-ui/core/styles'\n\nimport { withRouter } from 'found'\nimport IconMenu from 'mdi-material-ui/Menu'\nimport React from 'react'\nimport { Helmet } from 'react-helmet'\nimport { createFragmentContainer, graphql } from 'react-relay'\n\nimport AppDrawerNavItems from '../../_configuration/rb-appdrawer-webapp/AppDrawerNavItems'\nimport NavBarDefaultTitle from '../../_configuration/rb-appdrawer-webapp/NavBarDefaultTitle'\nimport ViewportContext from '../../rb-appbase-webapp/components/ViewportContext'\n\nimport AppFrameContext from './AppFrameContext'\n\nconst drawerWidth = 240\n\nconst styles = (theme) => ({\n  '@global': {\n    html: {\n      boxSizing: 'border-box',\n    },\n    '*, *:before, *:after': {\n      boxSizing: 'inherit',\n    },\n    body: {\n      margin: 0,\n      background: theme.palette.background.default,\n      color: theme.palette.text.primary,\n      lineHeight: '1.2',\n      overflowX: 'hidden',\n      WebkitFontSmoothing: 'antialiased', // Antialiasing.\n      MozOsxFontSmoothing: 'grayscale', // Antialiasing.\n    },\n    img: {\n      maxWidth: '100%',\n      height: 'auto',\n      width: 'auto',\n    },\n  },\n  root: {\n    width: '100%',\n    height: '100vh',\n    zIndex: 1,\n    overflow: 'hidden',\n  },\n  appFrame: {\n    position: 'relative',\n    display: 'flex',\n    width: '100%',\n    height: '100%',\n  },\n  menuButton: {\n    position: 'absolute',\n    zIndex: 1199, // Drawer is 1200\n    [theme.breakpoints.down('sm')]: {\n      marginLeft: 4,\n      marginTop: 4,\n    },\n    [theme.breakpoints.between('sm', 'lg')]: {\n      marginLeft: 8,\n      marginTop: 8,\n    },\n    [theme.breakpoints.up('lg')]: {\n      marginLeft: 12,\n      marginTop: 12,\n    },\n  },\n  contentContainerWithPermanentDrawer: {\n    marginLeft: drawerWidth,\n    width: '100%',\n  },\n  drawerPaper: {\n    position: 'relative',\n    height: '100%',\n    width: drawerWidth,\n  },\n})\n\nconst titlePrefix = process.env.NODE_ENV === 'production' ? '' : '<DEV> '\n\nclass AppFrame extends React.Component<\n  { children?: any, classes: Object, router: Object, Viewer: Object },\n  {\n    drawerIsOpen: boolean,\n    title: string,\n  },\n> {\n  constructor(props: Object, context: Object) {\n    super(props, context)\n\n    this.state = {\n      drawerIsOpen: false,\n      title: titlePrefix + NavBarDefaultTitle,\n    }\n  }\n\n  _handle_Drawer_Open = () => {\n    this.setState({ drawerIsOpen: true })\n  }\n\n  _handle_Drawer_Close = () => {\n    this.setState({ drawerIsOpen: false })\n  }\n\n  _handle_GoTo = (to: string) => {\n    this.setState({ drawerIsOpen: false })\n\n    this.props.router.push(to)\n  }\n\n  setTitle = (title: string) => {\n    this.setState({ title: titlePrefix + title })\n  }\n\n  clearTitle = () => {\n    this.setState({ title: titlePrefix + NavBarDefaultTitle })\n  }\n\n  render() {\n    const { setTitle, clearTitle } = this\n    const { children, classes, Viewer } = this.props\n    const { drawerIsOpen, title } = this.state\n\n    return (\n      <div className={classes.root}>\n        <Helmet>\n          <title>{title}</title>\n        </Helmet>\n\n        <ViewportContext.Consumer>\n          {({ totalWidth }) => {\n            const bPermanentDrawer = totalWidth > 1300 + drawerWidth\n\n            const chilrenContained = bPermanentDrawer ? (\n              <div className={classes.contentContainerWithPermanentDrawer}>{children}</div>\n            ) : (\n              children\n            )\n\n            return (\n              <div className={classes.appFrame}>\n                {!bPermanentDrawer && (\n                  <Fab\n                    aria-label=\"open drawer\"\n                    className={classes.menuButton}\n                    color=\"primary\"\n                    size=\"small\"\n                    onClick={this._handle_Drawer_Open}\n                  >\n                    <IconMenu htmlColor=\"#ffc400\" />\n                  </Fab>\n                )}\n\n                <Drawer\n                  open={drawerIsOpen}\n                  variant={bPermanentDrawer ? 'permanent' : 'temporary'}\n                  onClose={this._handle_Drawer_Close}\n                >\n                  <AppDrawerNavItems Viewer={Viewer} onClick={this._handle_GoTo} />\n                </Drawer>\n\n                <AppFrameContext.Provider value={{ setTitle, clearTitle }}>\n                  {chilrenContained}\n                </AppFrameContext.Provider>\n              </div>\n            )\n          }}\n        </ViewportContext.Consumer>\n      </div>\n    )\n  }\n}\n\nexport default createFragmentContainer(withStyles(styles)(withRouter(AppFrame)), {\n  Viewer: graphql`\n    fragment AppFrame_Viewer on Viewer {\n      UserToken2\n      ...AppDrawerNavItems_Viewer\n    }\n  `,\n})\n"],"file":"AppFrame.js"}