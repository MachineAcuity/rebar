(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{1347:function(e,t,r){"use strict";r.r(t),r.d(t,"validateEmail",(function(){return C}));var a=r(146),n=r(71),s=r(46),l=r(97),c=r(47),i=r(511),o=r(5),u=r(402),d=r(286),x=r.n(d),m=r(0),h=r.n(m),p=r(36),f=r(35),_=r(296);function C(e){return/^([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x22([^\x0d\x22\x5c\x80-\xff]|\x5c[\x00-\x7f])*\x22)(\x2e([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x22([^\x0d\x22\x5c\x80-\xff]|\x5c[\x00-\x7f])*\x22))*\x40([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x5b([^\x0d\x5b-\x5d\x80-\xff]|\x5c[\x00-\x7f])*\x5d)(\x2e([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x5b([^\x0d\x5b-\x5d\x80-\xff]|\x5c[\x00-\x7f])*\x5d))*$/.test(e)}const E={card:{minWidth:350,maxWidth:1200},...p.a,userName:{borderWidth:1,borderColor:"#c0c0c0",fontWeight:"bold",paddingLeft:10,paddingRight:10}};class S extends h.a.Component{constructor(e,t){super(e,t),this._handle_onClick_Create=async()=>{const{UserAccount_Identifier:e,User_Secret:t}=this.state;this.setState({currentOperation:"creating",User_Secret:""});try{const r=window.location,a=r.protocol+"//"+r.hostname+":"+r.port,n=await fetch(a+"/auth/createuser",{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify({UserAccount_Identifier:e,User_Secret:t})}),s=await n.json();s.success?this.setState({currentOperation:"success"}):this.setState({currentOperation:"failure",executionStatus:s.error})}catch(e){this.setState({currentOperation:"failure",executionStatus:"Did not receive proper response from server. Please try again. Message:"+e.message})}},this._handle_onClick_CancelCreation=()=>{this.setState({currentOperation:"failure",executionStatus:"User creation has been canceled"})},this._handle_onClick_TryAgain=()=>{this.setState({currentOperation:"prompt",executionStatus:""})},this._handle_onClick_Continue=()=>{window.location.replace("/")},this._handle_onChange_Identifier=e=>{const t=e.target.value,r=C(t);this.setState({UserAccount_Identifier:t,UserAccount_IdentifierValidity:r})},this._handle_onUpdateSecret=e=>{this.setState({User_Secret:e})},this.state={currentOperation:"prompt",executionStatus:"",UserAccount_Identifier:"",UserAccount_IdentifierValidity:!1,User_Secret:""}}renderCreating(){const{classes:e}=this.props,{UserAccount_Identifier:t}=this.state;return h.a.createElement("div",null,h.a.createElement(p.b,{icon:h.a.createElement(x.a,null),subTitle:"Creating, please wait",title:"New User"}),h.a.createElement(s.a,{className:e.card},h.a.createElement(c.a,null,h.a.createElement("br",null),h.a.createElement(a.a,{variant:"outlined",severity:"info"},"Creating user",h.a.createElement("span",{className:e.userName},t),", please wait ..."),h.a.createElement("br",null),h.a.createElement("br",null),h.a.createElement(i.a,{mode:"query"})),h.a.createElement(l.a,null,h.a.createElement(n.a,{onClick:this._handle_onClick_CancelCreation},"Cancel"))))}renderSuccess(){const{classes:e}=this.props,{UserAccount_Identifier:t}=this.state;return h.a.createElement("div",null,h.a.createElement(p.b,{icon:h.a.createElement(x.a,null),subTitle:"Created",title:"New User"}),h.a.createElement(s.a,{className:e.card},h.a.createElement(c.a,null,h.a.createElement("br",null),h.a.createElement(a.a,{variant:"outlined",severity:"success"},"Created user",h.a.createElement("span",{className:e.userName},t))),h.a.createElement(l.a,null,h.a.createElement(n.a,{onClick:this._handle_onClick_Continue},"Continue"))))}renderFailure(){const{classes:e}=this.props,{UserAccount_Identifier:t,executionStatus:r}=this.state;return h.a.createElement("div",null,h.a.createElement(p.b,{icon:h.a.createElement(x.a,{htmlColor:"#ff0000"}),subTitle:"Failed",title:"New User"}),h.a.createElement(s.a,{className:e.card},h.a.createElement(c.a,null,h.a.createElement("br",null),h.a.createElement(a.a,{variant:"outlined",severity:"error"},"Failed creating user",h.a.createElement("span",{className:e.userName},t),"because ",r,".")),h.a.createElement(l.a,null,h.a.createElement(n.a,{onClick:this._handle_onClick_TryAgain},"Try Again"))))}renderPrompt(){const{classes:e}=this.props,{UserAccount_Identifier:t,UserAccount_IdentifierValidity:r,User_Secret:a}=this.state,i=!r||""===a;return h.a.createElement("div",null,h.a.createElement(p.b,{icon:h.a.createElement(x.a,null),subTitle:"Create new user",title:"New User"}),h.a.createElement(s.a,{className:e.card},h.a.createElement(c.a,null,h.a.createElement(u.a,{autoComplete:"username",fullWidth:!0,label:"E-Mail Address",margin:"normal",value:t,variant:"outlined",onChange:this._handle_onChange_Identifier}),h.a.createElement("br",null),h.a.createElement("br",null),h.a.createElement(_.a,{onUpdateSecret:this._handle_onUpdateSecret})),h.a.createElement(l.a,null,h.a.createElement(n.a,{disabled:i,onClick:this._handle_onClick_Create},"Create"))))}render(){const{currentOperation:e}=this.state;return(h.a.createElement(f.a,null,"prompt"===e&&this.renderPrompt(),"creating"===e&&this.renderCreating(),"success"===e&&this.renderSuccess(),"failure"===e&&this.renderFailure()))}}t.default=Object(o.a)(E)(S)},296:function(e,t,r){"use strict";var a=r(511),n=r(5),s=r(402),l=r(54),c=r(0),i=r.n(c);class o extends i.a.Component{constructor(e,t){super(e,t),this._handle_onChange_Secret=e=>{const t=e.target.value;this.setState({userSecret:t}),this.updateErrorAndValue(t,this.state.userSecretConfirm)},this._handle_onChange_SecretConfirm=e=>{const t=e.target.value;this.setState({userSecretConfirm:t}),this.updateErrorAndValue(this.state.userSecret,t)},this.state={userSecret:"",userSecretConfirm:"",userSecretPrompt:"",userSecretStrength:0,userSecretQuality:"poor"}}updateErrorAndValue(e,t){let r="";const a=e===t;let n=a?e:"";a||(r="Passwords do not match");const s=function(e,t,r){let a=0;if(!e)return 0;let n={};for(let r=0;r<e.length;r++)n[e[r]]=(n[e[r]]||0)+1,a+=t/n[e[r]];let s={digits:/\d/.test(e),lower:/[a-z]/.test(e),upper:/[A-Z]/.test(e),nonWords:/\W/.test(e)},l=0;for(let e in s)l+=!0===s[e]?1:0;return a+=(l-1)*r,a}(e,5,10),l=s>=80?"good":s>=30?"fair":"poor";""===r&&(r="Password strength: "+l),"poor"===l&&(n=""),this.props.onUpdateSecret(n),this.setState({userSecretPrompt:r,userSecretQuality:l,userSecretStrength:s})}render(){const{classes:e}=this.props,{userSecret:t,userSecretConfirm:r,userSecretPrompt:n,userSecretQuality:c,userSecretStrength:o}=this.state;return i.a.createElement("div",null,i.a.createElement(s.a,{autoComplete:"new-password",fullWidth:!0,label:"Password",margin:"normal",type:"password",value:t,variant:"outlined",onChange:this._handle_onChange_Secret}),i.a.createElement(s.a,{autoComplete:"new-password",fullWidth:!0,label:"Confirm password",margin:"normal",type:"password",value:r,variant:"outlined",onChange:this._handle_onChange_SecretConfirm}),i.a.createElement(l.a,{variant:"subtitle1",gutterBottom:!0},i.a.createElement("br",null),n),i.a.createElement(a.a,{classes:{colorPrimary:e.strengthColorPrimary,barColorPrimary:e["strengthBarColorPrimary_"+c]},value:50*o/80,variant:"determinate"}))}}t.a=Object(n.a)({strengthColorPrimary:{backgroundColor:"#a0a0a0"},strengthBarColorPrimary_poor:{backgroundColor:"#a00000"},strengthBarColorPrimary_fair:{backgroundColor:"#0000a0"},strengthBarColorPrimary_good:{backgroundColor:"#00a000"}})(o)}}]);