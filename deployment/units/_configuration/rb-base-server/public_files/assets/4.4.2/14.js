(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{1346:function(e,t,a){"use strict";a.r(t);var n=a(146),r=a(71),l=a(46),s=a(97),c=a(47),o=a(511),i=a(5),u=a(54),m=a(285),d=a.n(m),h=a(0),g=a.n(h),E=a(36),p=a(35);class _ extends g.a.Component{constructor(e,t){super(e,t),this._handle_onClick_Logout=async()=>{this.setState({currentOperation:"logging out"});try{const e=window.location,t=e.protocol+"//"+e.hostname+":"+e.port,a=await fetch(t+"/auth/logout",{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:"{}"}),n=await a.json();n.success?this.setState({currentOperation:"success"}):this.setState({currentOperation:"failure",errorMessage:n.error})}catch(e){this.setState({currentOperation:"failure",errorMessage:"Did not receive proper response from server. Please try again. Message:"+e.message})}},this._handle_onClick_CancelLogout=()=>{this.setState({currentOperation:"failure",errorMessage:"User log out has been canceled"})},this._handle_onClick_TryAgain=()=>{this.setState({currentOperation:"confirm",errorMessage:""})},this._handle_onClick_Continue=()=>{window.location.replace("/")},this.state={currentOperation:"confirm",errorMessage:""}}renderCreating(){const{classes:e}=this.props;return(g.a.createElement("div",null,g.a.createElement(E.b,{icon:g.a.createElement(d.a,null),subTitle:"",title:"Log Out"}),g.a.createElement(l.a,{className:e.card},g.a.createElement("br",null),g.a.createElement(n.a,{variant:"outlined",severity:"info"},"Logging out. Please wait ..."),g.a.createElement(c.a,null,g.a.createElement("br",null)," ",g.a.createElement("br",null),g.a.createElement(o.a,{mode:"query"})),g.a.createElement(s.a,null,g.a.createElement(r.a,{onClick:this._handle_onClick_CancelLogout},"Cancel")))))}renderSuccess(){const{classes:e}=this.props;return(g.a.createElement("div",null,g.a.createElement(E.b,{icon:g.a.createElement(d.a,null),subTitle:"",title:"Log Out"}),g.a.createElement(l.a,{className:e.card},g.a.createElement(c.a,null,g.a.createElement("br",null),g.a.createElement(n.a,{variant:"outlined",severity:"success"},"You have been logged out."," ")),g.a.createElement(s.a,null,g.a.createElement(r.a,{onClick:this._handle_onClick_Continue},"Continue")))))}renderFailure(){const{classes:e}=this.props,{errorMessage:t}=this.state;return g.a.createElement("div",null,g.a.createElement(E.b,{icon:g.a.createElement(d.a,null),subTitle:"",title:"Log Out"}),g.a.createElement(l.a,{className:e.card},g.a.createElement(c.a,null,g.a.createElement("br",null),g.a.createElement(n.a,{variant:"outlined",severity:"error"},"Failed logging out because: ",t,"!")),g.a.createElement(s.a,null,g.a.createElement(r.a,{onClick:this._handle_onClick_TryAgain},"Try Again"))))}renderPrompt(){const{classes:e}=this.props;return(g.a.createElement("div",null,g.a.createElement(E.b,{icon:g.a.createElement(d.a,null),subTitle:"",title:"Log Out"}),g.a.createElement(l.a,{className:e.card},g.a.createElement(c.a,null,g.a.createElement("br",null),g.a.createElement(u.a,{component:"h6"},"You are currently logged in. Are you sure you want to log out?")),g.a.createElement(s.a,null,g.a.createElement(r.a,{onClick:this._handle_onClick_Logout},"Yes, Log Out")))))}render(){const{currentOperation:e}=this.state;return(g.a.createElement(p.a,null,"confirm"===e&&this.renderPrompt(),"logging out"===e&&this.renderCreating(),"success"===e&&this.renderSuccess(),"failure"===e&&this.renderFailure()))}}t.default=Object(i.a)(e=>({card:{minWidth:350,maxWidth:1200},...E.a}))(_)}}]);