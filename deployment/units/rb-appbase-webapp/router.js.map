{"version":3,"sources":["../../../units/rb-appbase-webapp/router.js"],"names":["historyMiddlewares","queryMiddleware","createResolver","fetcher","environment","Environment","network","Network","create","args","fetch","store","Store","RecordSource","Resolver","routeConfig","siteConfiguration"],"mappings":";;AAEA;AACA;;AAEA;;AAEA;AACA,gF;;AAEO,MAAMA,kBAAkB,GAAG,CAAEC,wBAAF,CAA3B,C;;AAEA,SAASC,cAAT,CAAwBC,OAAxB,EAAsC;AAC3C,QAAMC,WAAW,GAAG,IAAIC,yBAAJ,CAAgB;AAClCC,IAAAA,OAAO,EAAEC,sBAAQC,MAAR,CAAe,CAAC,GAAGC,IAAJ,KAAaN,OAAO,CAACO,KAAR,CAAc,GAAGD,IAAjB,CAA5B,CADyB;AAElCE,IAAAA,KAAK,EAAE,IAAIC,mBAAJ,CAAU,IAAIC,0BAAJ,EAAV,CAF2B,EAAhB,CAApB;;;AAKA,SAAO,IAAIC,oBAAJ,CAAaV,WAAb,CAAP;AACD;;AAEM,SAASW,WAAT,CAAqBC,iBAArB,EAAgD;AACrD,SAAO,8BAAgB,2BAAaA,iBAAb,CAAhB,CAAP;AACD","sourcesContent":["// @flow\n\nimport { Resolver } from 'found-relay'\nimport { Environment, Network, RecordSource, Store } from 'relay-runtime'\n\nimport createRoutes from '../_configuration/rb-appbase-webapp/createRoutes'\n\nimport queryMiddleware from 'farce/queryMiddleware'\nimport makeRouteConfig from 'found/makeRouteConfig'\n\nexport const historyMiddlewares = [ queryMiddleware ]\n\nexport function createResolver(fetcher: any) {\n  const environment = new Environment({\n    network: Network.create((...args) => fetcher.fetch(...args)),\n    store: new Store(new RecordSource()),\n  })\n\n  return new Resolver(environment)\n}\n\nexport function routeConfig(siteConfiguration: Object) {\n  return makeRouteConfig(createRoutes(siteConfiguration))\n}\n"],"file":"router.js"}