{"version":3,"sources":["../../../units/rb-base-server/log.js"],"names":["require","config","transports","defaultPersisterLogger","defaultPersister","createLogger","push","logger","winston","log","level","message","details"],"mappings":";;AAEA;;AAEA,qH;;AAEA;;AAEA;AACAA,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB;;AAEA;;AAEA;AACA,MAAMC,UAAU,GAAG,EAAnB;;AAEA;AACA,MAAMC,sBAAsB,GAAGC,0BAAiBC,YAAjB,EAA/B;AACA,IAAIF,sBAAJ,EAA4B;AAC1BD,EAAAA,UAAU,CAACI,IAAX,CAAgBH,sBAAhB;AACD;;AAED;AACA,MAAMI,MAAM,GAAGC,iBAAQH,YAAR,CAAqB,EAAEH,UAAF,EAArB,CAAf;;AAEA;;AAEe,SAASO,GAAT,CAAaC,KAAb,EAA+CC,OAA/C,EAAgEC,OAAhE,EAAiF;AAC9FL,EAAAA,MAAM,CAACE,GAAP,CAAW,EAAEC,KAAF,EAASC,OAAT,EAAkBC,OAAlB,EAAX;AACD","sourcesContent":["// @flow\n\nimport winston from 'winston'\n\nimport defaultPersister from '../_configuration/rb-base-server/graphql/defaultPersister'\n\n//\n\n// Read environment\nrequire('dotenv').config()\n\n//\n\n// Set up transports\nconst transports = []\n\n// If persister specified logger, use it\nconst defaultPersisterLogger = defaultPersister.createLogger()\nif (defaultPersisterLogger) {\n  transports.push(defaultPersisterLogger)\n}\n\n// Create winston\nconst logger = winston.createLogger({ transports })\n\n//\n\nexport default function log(level: 'error' | 'warn' | 'info', message: string, details: Object) {\n  logger.log({ level, message, details })\n}\n"],"file":"log.js"}