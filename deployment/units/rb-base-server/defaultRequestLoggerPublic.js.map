{"version":3,"sources":["../../../units/rb-base-server/defaultRequestLoggerPublic.js"],"names":["defaultrequestLoggerPublic","req","clientIP","userSession","logLevel","debugWriteToLogServerRequestPublic"],"mappings":";;AAEA;AACA;AACA,oE,8FAJA;;AAMe,SAASA,0BAAT,CAAoC,EAAEC,GAAF,EAAOC,QAAP,EAAiBC,WAAjB,EAApC,EAAoE;AACjF,MAAIC,QAAQ,GAAG,IAAf;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAI,2BAAY,EAAEH,GAAF,EAAOC,QAAP,EAAiBC,WAAjB,EAAZ,EAA4CE,yCAA5C,CAAJ,EAAqF;AACnFD,IAAAA,QAAQ,GAAG,MAAX;AACD;;AAED,MAAIA,QAAJ,EAAc;AACZ,sBAAIA,QAAJ,EAAc,+BAAd,EAA+C;AAC7CH,MAAAA,GAD6C;AAE7CC,MAAAA,QAF6C;AAG7CC,MAAAA,WAH6C,EAA/C;;AAKD;AACF","sourcesContent":["// @flow weak\n\nimport { debugWriteToLogServerRequestPublic } from '../_configuration/debug'\nimport { matchObject } from '../rb-base-universal/template'\nimport log from '../rb-base-server/log'\n\nexport default function defaultrequestLoggerPublic({ req, clientIP, userSession }) {\n  let logLevel = null\n\n  // IDEA [Code Quality] Audit errors for Public and decide which ones to log. For instasnce, 401 is a bad idea.\n  // // If there is an error, log it as an error\n  // if( requestAndResponse.response.indexOf( '\"errors\": [' ) > 0 )\n  //   logLevel = 'error'\n  // Otherwise, if it is a trace, log it as info\n  //else\n  if (matchObject({ req, clientIP, userSession }, debugWriteToLogServerRequestPublic)) {\n    logLevel = 'info'\n  }\n\n  if (logLevel) {\n    log(logLevel, 'rb-base-server public request', {\n      req,\n      clientIP,\n      userSession,\n    })\n  }\n}\n"],"file":"defaultRequestLoggerPublic.js"}